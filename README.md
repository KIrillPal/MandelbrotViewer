# MandelbrotViewer
Это учебный проект по визуализации множества Мандельброта. За основу взято классическое множество, проект использует SFML 2.5.1. и написан на C++ в Visual Studio.
# Подключение и использование
Чтобы запустить приложение, скачайте архив [Release.zip](https://github.com/KIrillPal/MandelbrotViewer/blob/main/Release.zip) из корня проекта и запустить в нём файл SnowKOH.exe (Да! Изначально программа рисовала звёздочку Коха). 
Откроется окно:
![koh1](https://github.com/KIrillPal/MandelbrotViewer/blob/main/README_Images/koh1.jpg)
Навигация осуществляется кнопками мыши, точность отображения регулируется кнопками ENTER и BACKSPACE.
- Зажать ЛКМ, чтобы выбрать новую область отображения.
- Нажать ПКМ, чтобы вернуться к предыдущей области.
- Нажать ENTER, чтобы увеличить точность.
- Нажать BACKSPACE, чтобы уменьшить точность.

Точность отображения - число итераций `z' = z^2+c`, при которых число `z' < 4` при любых входящих z'. Однако при увеличении точности увеличивается время загрузки изображения. Максимальная допустимая точность программы 10^6.

На каком-то приближении можно встретить следущую картину:
![koh2](https://github.com/KIrillPal/MandelbrotViewer/blob/main/README_Images/koh2.jpg)
Это связано с потерей точности double, так как в этом типе лежат координаты каждой точки в виртуальных координатах области отображения.
# Структура проекта
Здесь описано, какие файлы содержатся в проекте и их предназначение в общих чертах.

## 1. SnowKOH.cpp
Это главный файл, содержащий функцию main. Он отвечает за любые действия с окном и его отрисовку. Также именно в нём просчитывается само множество. Фактически, этот файл с 323 строками содержит в себе всю программу.

- Все области отображения сохраняются в стеке `zooms` и достаются по нажатии ПКМ. 
- Цвет из формулы Мандельброта берется из числа итераций, точности отображения, некоторых формул с ними и функции `HSVtoRGB`. 
- Цвета пикселей множесва определяются в функции drawfield. Для оптимизации испльзуется OpenMP. 

## 2. Complex.cpp и Complex.h
Это собственная реализация класса комплексного числа. Он содержит все базовые операции, необходимые для "Мандельброта". Имеются конструктор копирования и move-конструктор. Этот класс также используется в некоторых других проектах.
# Замечания
Конечно, это не лучший способ отображения множества Мандельброта, так как глубина погружения не очень велика. Однако этого достаточно для демонстрации самого механизма работы с множеством. Выбор точности вручную вызван, по большей мере, скоростью работы программы. На участке с большим количеством чёрных пикселей не имеет смысла большая точность. Вовремя меняя её, можно, как в игре, достичь необходимого участка намного быстрее.

Для запуска проекта в Visual Studio необходим доступ среды к SFML 2.5.1. Эта библиотека должна находиться по пути `D:\Program Files\SFML-2.5.1`. Чтобы выбрть другую папку для SFML, зайдите в `Проект -> C/C++ -> Общие -> Дополнитеьные каталоги включаемых файлов`, а затем измените каталог и версию на нужное. Аналогично нужно поменять данные по пути `Проект -> Компоновщик -> Общие -> Дополнитеьные каталоги библиотек`.

Также в реализации видны некоторые неиспользуемые или скрытые фишки (например, сохранённые области, загружаемые по кнопкам нампада). Это ещё раз доказывает, что проект - школьное домашнее задание.

# Особенности проекта
Этот проект был дан в школе для отработки навыков работы с фракталами/графиками/формулами. Полностью соответсвует ТЗ, но имеет ещё немного дополнений в графике и оптимизации. 
